<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>장비 선택</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800">

  <!-- ✅ 섹션 탭 -->
  <div class="flex justify-center gap-4 my-8 flex-wrap">
    <button onclick="showSection('camera')" class="section-tab">카메라</button>
    <button onclick="showSection('lighting')" class="section-tab">조명</button>
    <button onclick="showSection('sound')" class="section-tab">사운드</button>
    <button onclick="showSection('editing')" class="section-tab">편집실</button>
  </div>

  <!-- ✅ 카테고리별 콘텐츠 -->
  <div class="max-w-6xl mx-auto px-4 space-y-12 pb-40">

    <!-- 카메라 섹션 -->
    <div id="camera" class="grid grid-cols-2 md:grid-cols-4 gap-4">
      <div class="item" onclick="toggleItem(this, 'Sony FX3 (ILME-FX3)')">
        <img src="https://via.placeholder.com/150" class="rounded mb-2" />
        <p class="font-semibold">Sony FX3 (ILME-FX3)</p>
        <p class="text-sm text-gray-500">3대 대여 가능</p>
      </div>
      <div class="item" onclick="toggleItem(this, 'Canon EOS R5')">
        <img src="https://via.placeholder.com/150" class="rounded mb-2" />
        <p class="font-semibold">Canon EOS R5</p>
        <p class="text-sm text-gray-500">2대 대여 가능</p>
      </div>
    </div>

    <!-- 조명 -->
    <div id="lighting" class="grid grid-cols-2 md:grid-cols-4 gap-4 hidden">
      <div class="item" onclick="toggleItem(this, 'ARRI SkyPanel S60-C')">
        <img src="https://via.placeholder.com/150" class="rounded mb-2" />
        <p class="font-semibold">ARRI SkyPanel S60-C</p>
        <p class="text-sm text-gray-500">4대 대여 가능</p>
      </div>
    </div>

    <!-- 사운드 -->
    <div id="sound" class="grid grid-cols-2 md:grid-cols-4 gap-4 hidden">
      <div class="item" onclick="toggleItem(this, 'Sennheiser MKH 416')">
        <img src="https://via.placeholder.com/150" class="rounded mb-2" />
        <p class="font-semibold">Sennheiser MKH 416</p>
        <p class="text-sm text-gray-500">6대 대여 가능</p>
      </div>
    </div>

    <!-- 편집실 -->
    <div id="editing" class="grid grid-cols-2 md:grid-cols-4 gap-4 hidden">
      <div class="item" onclick="toggleItem(this, '프리미어 편집실 1')">
        <img src="https://via.placeholder.com/150" class="rounded mb-2" />
        <p class="font-semibold">프리미어 편집실 1</p>
        <p class="text-sm text-gray-500">예약 가능</p>
      </div>
    </div>
  </div>

  <!-- ✅ 하단 고정 선택된 장비 영역 -->
  <div id="selectedItems" class="fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-md px-6 py-4 hidden z-50">
    <div class="max-w-6xl mx-auto flex justify-between items-center flex-wrap">
      <div>
        <h3 class="text-sm font-semibold text-gray-800 mb-1">🧾 선택된 장비 (<span id="count">0</span>)</h3>
        <ul id="selectedList" class="flex gap-3 flex-wrap text-sm text-blue-700 font-medium"></ul>
      </div>
      <button class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
        다음 단계 →
      </button>
    </div>
  </div>

  <!-- ✅ Tailwind + 스타일 -->
  <style>
    .section-tab {
      @apply w-28 h-16 border border-blue-500 rounded-lg text-blue-600 font-semibold hover:bg-blue-100 transition;
    }
    .item {
      position: relative;
      background-color: white;
      padding: 1rem;
      border-radius: 0.75rem;
      border: 1px solid #ddd;
      cursor: pointer;
      transition: box-shadow 0.3s ease;
    }
    .item:hover {
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
    }
    .item.selected {
      border: 2px solid #facc15;
      background-color: #fef9c3;
    }
    .item.selected::after {
      content: "✔";
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      background-color: #facc15;
      color: black;
      border-radius: 50%;
      width: 1.5rem;
      height: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 1rem;
    }
  </style>

  <!-- ✅ JS 기능 -->
  <script>
    function showSection(id) {
      const all = ['camera', 'lighting', 'sound', 'editing'];
      all.forEach(sec => document.getElementById(sec).classList.add('hidden'));
      document.getElementById(id).classList.remove('hidden');
    }

    const selectedItems = new Set();

    function toggleItem(element, name) {
      element.classList.toggle('selected');
      if (selectedItems.has(name)) {
        selectedItems.delete(name);
      } else {
        selectedItems.add(name);
      }

      const list = document.getElementById('selectedList');
      const count = document.getElementById('count');
      list.innerHTML = '';
      selectedItems.forEach(item => {
        const li = document.createElement('li');
        li.textContent = item;
        list.appendChild(li);
      });
      count.textContent = selectedItems.size;

      document.getElementById('selectedItems').classList.toggle('hidden', selectedItems.size === 0);
    }
  </script>

</body>
</html>
