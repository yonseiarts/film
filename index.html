<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>연세예술원 장비 대여</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * {
      scroll-behavior: smooth;
    }
    input[type="date"]:invalid {
      color: gray;
    }
  </style>
</head>
<body class="bg-white text-neutral-800 font-sans">
  <header class="w-full border-b border-gray-200 p-6 text-center">
    <h1 class="text-2xl font-semibold">연세예술원 영화학기자재 대여</h1>
    <p class="text-sm text-gray-500 mt-2">필요한 장비를 선택하고 간편하게 대여 신청하세요.</p>
  </header>

  <main class="max-w-6xl mx-auto px-4 py-10">
    <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
      <div onclick="selectItem('Blackmagic Camera')" class="rounded-xl overflow-hidden border border-gray-200 hover:shadow-md transition cursor-pointer">
        <img src="https://via.placeholder.com/400x250" alt="Camera" class="w-full object-cover">
        <div class="p-4">
          <h2 class="text-lg font-medium">Blackmagic Camera</h2>
          <p class="text-sm text-gray-500 mt-1">4K 영상 촬영용</p>
        </div>
      </div>
      <div onclick="selectItem('삼각대 Tripod')" class="rounded-xl overflow-hidden border border-gray-200 hover:shadow-md transition cursor-pointer">
        <img src="https://via.placeholder.com/400x250" alt="Tripod" class="w-full object-cover">
        <div class="p-4">
          <h2 class="text-lg font-medium">삼각대 Tripod</h2>
          <p class="text-sm text-gray-500 mt-1">튼튼한 알루미늄 삼각대</p>
        </div>
      </div>
      <div onclick="selectItem('RODE 마이크')" class="rounded-xl overflow-hidden border border-gray-200 hover:shadow-md transition cursor-pointer">
        <img src="https://via.placeholder.com/400x250" alt="Mic" class="w-full object-cover">
        <div class="p-4">
          <h2 class="text-lg font-medium">RODE 마이크</h2>
          <p class="text-sm text-gray-500 mt-1">고감도 무지향성 마이크</p>
        </div>
      </div>
      <div onclick="selectItem('LED 조명 세트')" class="rounded-xl overflow-hidden border border-gray-200 hover:shadow-md transition cursor-pointer">
        <img src="https://via.placeholder.com/400x250" alt="Light" class="w-full object-cover">
        <div class="p-4">
          <h2 class="text-lg font-medium">LED 조명 세트</h2>
          <p class="text-sm text-gray-500 mt-1">3단 밝기 조절 가능</p>
        </div>
      </div>
    </section>

    <section class="bg-gray-50 rounded-xl p-6 max-w-xl mx-auto shadow">
      <h3 class="text-xl font-semibold text-center mb-4">대여 신청서</h3>
      <form id="rentalForm" class="space-y-4">
        <input type="text" id="selectedItem" placeholder="선택한 장비" readonly required class="w-full border border-gray-300 rounded-lg p-3">
        <input type="text" id="name" placeholder="이름" required class="w-full border border-gray-300 rounded-lg p-3">
        <input type="text" id="studentId" placeholder="학번" required class="w-full border border-gray-300 rounded-lg p-3">
        <input type="date" id="startDate" required class="w-full border border-gray-300 rounded-lg p-3">
        <input type="date" id="endDate" required class="w-full border border-gray-300 rounded-lg p-3">
        <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white rounded-lg py-3 font-medium">신청하기</button>
      </form>
    </section>
  </main>

  <footer class="text-center text-sm text-gray-400 py-6 border-t border-gray-200">
    © 2025 연세예술원 영화학과
  </footer>

  <script>
    function selectItem(name) {
      document.getElementById('selectedItem').value = name;
      document.getElementById('rentalForm').scrollIntoView({ behavior: 'smooth' });
    }

    document.getElementById('rentalForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const item = document.getElementById('selectedItem').value;
      const name = document.getElementById('name').value;
      const studentId = document.getElementById('studentId').value;
      const startDate = document.getElementById('startDate').value;
      const endDate = document.getElementById('endDate').value;

      if (new Date(endDate) < new Date(startDate)) {
        alert('종료일은 시작일보다 이후여야 합니다.');
        return;
      }

      const formURL = 'https://docs.google.com/forms/d/e/YOUR_FORM_ID/formResponse'; // 여기에 Google Form action URL 입력
      const formData = new FormData();

      // Google Form에 대응하는 name 속성으로 연결 필요
      formData.append('entry.0000000000', item);       // 장비명
      formData.append('entry.1111111111', name);       // 이름
      formData.append('entry.2222222222', studentId);  // 학번
      formData.append('entry.3333333333', startDate);  // 시작일
      formData.append('entry.4444444444', endDate);    // 종료일

      fetch(formURL, {
        method: 'POST',
        mode: 'no-cors',
        body: formData
      })
      .then(() => {
        alert('신청이 완료되었습니다!');
        document.getElementById('rentalForm').reset();
      })
      .catch(() => {
        alert('신청 중 오류가 발생했습니다.');
      });
    });
  </script>
</body>
</html>
